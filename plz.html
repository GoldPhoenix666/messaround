<html>
<head>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>


	<script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart);
    function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Goal Name', 'No. of times Requested'],
        ['Frank.net Life Cover', 226],
        ['Frank.net Hospital Cash Back', 147],
        ['Frank.net Salary Protection', 228],
        ['King Price Car Insurance', 328],
        ['Momentum Medical Aid', 493],
        ['Oplan Health Cover', 185],
        ['Youi Quote', 33],
        ]);

        var options = {
          title: 'Most Requested Sponsors',
          legend: 'none'
        };

       var chart = new google.visualization.PieChart(document.getElementById('piechart2'));
        chart.draw(data, options);
        
        var total = 0;
        for (var i = 0; i < data.getNumberOfRows(); i++) {
            total += data.getValue(i, 1);
        }
        
        var legend = document.getElementById("legend");
        var legItem = [];
        var colors = ['#e0440e', '#e6693e', '#ec8f6e', '#f3b49f', '#f6c7b6', '#f3aaaa', '#f6cccc'];
        for (var i = 0; i < data.getNumberOfRows(); i++) {
            var label = data.getValue(i, 0);
            var value = data.getValue(i, 1);
            var percent = Number(100 * value / total).toFixed(1);

            // This will create legend list for the display
            legItem[i] = document.createElement('li');
            legItem[i].id = 'legend_' + data.getValue(i, 0);
            legItem[i].innerHTML = '<div class="legendMarker"> <span style="color:' + colors[i] + ';">' + label + ': ' + value + '(' + percent + '%)</span></div>';

            legend.appendChild(legItem[i]);
        }
    }



</script>


</head>

<body>

<style type="text/css">
	
#piechart2 {
    width: 500px; 
    height: 400px; 
    position: relative;
    float: left;
}

#legend {
    margin-top: 100px;
    margin-right: 50px;
}




</style>

<div id="piechart2"></div>
<div id="legend"></div>
</body>

</html>